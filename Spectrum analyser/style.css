:root{
  --bg: #0f1117;
  --panel: #151823;
  --text: #e4e7ef;
  --muted: #9aa3b2;
  --accent: #4cc9f0;
  --accent-2: #a0f;
  --grid: #293042;
  --bar: #7dd3fc;
}

*{ box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin: 0;
  color: var(--text);
  background: radial-gradient(1200px 800px at 20% -10%, #1d2231 0%, var(--bg) 55%), var(--bg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

.app-header{
  display: flex; align-items: center; justify-content: space-between;
  gap: 1rem; padding: 1rem 1.25rem; border-bottom: 1px solid #141826;
  background: linear-gradient(180deg, #151a28 0%, #121622 100%);
}
.app-header h1{ font-size: 1.15rem; margin: 0; font-weight: 600; }
.controls{ display: flex; flex-wrap: wrap; align-items: center; gap: .75rem 1rem; }

button{
  appearance: none; border: 1px solid #334155; color: var(--text);
  background: #1f2937; padding: .5rem .8rem; border-radius: .5rem; cursor: pointer;
}
button:hover{ background:#243244; }

label{ color: var(--muted); font-size: .9rem; display: inline-flex; align-items: center; gap: .5rem; }
.checkbox{ gap: .4rem; }
select, input[type="range"]{ accent-color: var(--accent); }
input[type="number"]{ background:#0f172a; color:var(--text); border:1px solid #334155; border-radius:.4rem; padding:.25rem .4rem; }
select{
  background: #0f172a; color: var(--text); border: 1px solid #334155; border-radius: .4rem; padding: .3rem .5rem;
}

.app-main{ padding: 1rem; display: grid; gap: .75rem; }
.canvas-wrap{ position: relative; background: var(--panel); border: 1px solid #141826; border-radius: .75rem; overflow: hidden; }
#spectrum{ display:block; width: 100%; height: 50vh; }

.readout{
  position: absolute; pointer-events: none; transform: translate(10px, -100%);
  background: #0b1020cc; color: var(--text); border: 1px solid #2a3350; border-radius: .5rem;
  padding: .35rem .5rem; font-size: .85rem; backdrop-filter: blur(4px);
  white-space: nowrap;
}

/* Peak markers */
.peak-label{
  position: absolute; color: #e9d5ff; background: #26194a99; border: 1px solid #3a2a6b;
  padding: .2rem .35rem; border-radius: .4rem; font-size: .78rem; pointer-events: none;
  transform: translate(-50%, -100%);
  white-space: nowrap;
}

.status{ color: var(--muted); display: flex; gap: 1.25rem; flex-wrap: wrap; font-size: .9rem; }

.app-footer{ padding: .75rem 1.25rem; border-top: 1px solid #141826; color: var(--muted); }

/* High-DPI crisp lines for the canvas grid */
.canvas-wrap::after{
  content: ""; position: absolute; inset: 0; background-image:
    linear-gradient(to right, var(--grid) 1px, transparent 1px),
    linear-gradient(to top, var(--grid) 1px, transparent 1px);
  background-size: 64px 100%, 100% 64px; opacity: .25; pointer-events: none;
}
